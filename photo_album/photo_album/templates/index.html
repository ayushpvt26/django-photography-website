{% extends "base.html" %}
{% block content %}
<p>
    I'm Daniel and am an enthusiastic amateur photographer. I really enjoy portrait photography so a lot of these photos include people. If you're one of the people you can get in touch and I'll send you the full-size version of your image, as well as the original image file (i.e. not photoshopped)
</p>
<p>
    I'm pretty inexperienced but I hope to use this website to get better. Every image is published with the camera's settings so I can learn what works and what doesn't. If you have any advice I'd gladly hear it.
</p>
<p>
    <strong><em>Would you like your photo taken?</em></strong><br />I'm looking for people to practice on. Especially cosplayers and bands. Just get in touch, we'll sort something out.
</p>
<div class="clear-fix"></div>
<div class="split">
  <h2>Albums</h2>
  {% with nodes=albums %}
  {% include "album/includes/album_list.html" %}
  {% endwith %}
</div>
<div class="split">
  <h2>Events</h2>
  {% with nodes=events %}
  {% include "album/includes/album_list.html" %}
  {% endwith %}
</div>
<div class="clear-fix"></div>
<h2>Events Map</h2>
<div id="map_canvas" style="width: 950px; height: 400px;"></div>
{% endblock content %}

{% block js %}
<script type="text/javascript"
  src="http://maps.googleapis.com/maps/api/js?key={{ settings.MAP_API_KEY }}&sensor=false">
</script>
<script type="text/javascript">
  function initialize() {
    var mapOptions = {
      center: new google.maps.LatLng(50.93, 0.922852),
      zoom: 6,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };

    var map = new google.maps.Map(document.getElementById("map_canvas"),
        mapOptions);

    {% for event in events %}
    var contentString = '<h2>{{ event.title }}</h2><p>{{ event.description }}<br /><a href="{{ event.get_absolute_url }}">View event</a></p>';
    var infowindow = new google.maps.InfoWindow({
        content: contentString
    });
    var marker = new google.maps.Marker({
      position: new google.maps.LatLng({{ event.latitude }}, {{ event.longitude }}),
      map: map,
      title: '{{ event.title }}',
    });
    google.maps.event.addListener(marker, 'click', function() {
      infowindow.open(map,marker);
    });
    {% endfor %}
  }
</script>
{% endblock js %}

{% block extend_body %}onload="initialize()"{% endblock extend_body %}